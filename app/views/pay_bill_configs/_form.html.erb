<div>
<%= form_with(model: pay_bill_config) do |form| %>
  <%= render "shared/error_messages", resource: form.object %>

  <div class="mt-5 md:col-span-2 md:mt-0">
    <div class="overflow-hidden shadow sm:rounded-md">
      <div class="bg-white px-4 py-5 sm:p-6">
        <div class="grid grid-cols-6 gap-6" data-controller="pay-bill-config" data-pay-bill-config-inverted-value="true">
          <!-- <div  data-controller="pay-bill-config" data-pay-bill-config-inverted-value="true">   -->
            <div class="col-span-6 sm:col-span-6 lg:col-span-6">
              <%= form.label "Config Name *", class: "block text-sm font-medium text-tokanisecondary-700" %>
              <%= form.text_field :name, class: "mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-tokanisecondary-500 focus:outline-none focus:ring-tokanisecondary-500 sm:text-sm" %>   
            </div>

            <div class="col-span-6 sm:col-span-6 lg:col-span-6 justify-center">
              <div class="relative flex items-center">
                <div class="flex h-5 items-center">
                  <%= form.check_box :is_minutes_billed_appointment_duration, class:"h-4 w-4 rounded border-gray-300 text-tokanisecondary-600 focus:ring-tokanisecondary-500" , data: {action: 'change->pay-bill-config#toggleHideMinMinutesBilled' } %>
                </div>
                <div class="ml-3 text-sm">
                  <%= form.label :is_minutes_billed_appointment_duration, class:"font-medium text-gray-700" %>
                </div>
              </div>
            </div>

            <div id="min_minutes" class="col-span-6 sm:col-span-6 lg:col-span-4" data-pay-bill-config-target="toggleHideMinMinutesBilled">
              <div class="col-span-6 sm:col-span-6 lg:col-span-3">
                  <%= form.label :minimum_minutes_billed, class:"block text-sm font-medium text-tokanisecondary-700"  %> 
                  <%= form.number_field :minimum_minutes_billed, class: "mt-2 mb-2 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-tokanisecondary-500 focus:outline-none focus:ring-tokanisecondary-500 sm:text-sm" %>
              </div>
              <div class="col-span-6 sm:col-span-6 lg:col-span-3">
                  <%= form.label :minimum_minutes_paid,  class:"block text-sm font-medium text-tokanisecondary-700" %>
                  <%= form.number_field :minimum_minutes_paid, class: "mt-2 mb-2 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-tokanisecondary-500 focus:outline-none focus:ring-tokanisecondary-500 sm:text-sm" %>
                </div>
                  
            </div>

            <div class="col-span-6 sm:col-span-6 lg:col-span-6">
              <div class="relative flex items-center">
                <div class="flex h-5 items-center">
                  <%= form.check_box :is_minutes_billed_cancelled_appointment_duration,  class:"h-4 w-4 rounded border-gray-300 text-tokanisecondary-600 focus:ring-tokanisecondary-500", data: {action: 'change->pay-bill-config#toggleHideMinMinutesBilledCancel' }%>
                </div>
                <div class="ml-3 text-sm">
                  <%= form.label :is_minutes_billed_cancelled_appointment_duration, class: "block text-sm font-medium text-gray-700" %>
                </div>
              </div>
            </div>

            <div id="cancel_wrapper" class="col-span-6 sm:col-span-6 lg:col-span-4 min_mins cancel_levels" data-pay-bill-config-target="toggleHideMinMinutesBilledCancel">
              <div class="col-span-6 sm:col-span-6 lg:col-span-3">
                <%= form.label :minimum_minutes_billed_cancelled_level1, class: "block text-sm font-medium text-tokanisecondary-700" %>
                <%= form.number_field :minimum_minutes_billed_cancelled_level1 , class: "mt-2 mb-2 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-tokanisecondary-500 focus:outline-none focus:ring-tokanisecondary-500 sm:text-sm"  %>
              </div>
              <div class="col-span-6 sm:col-span-6 lg:col-span-3">
                <%= form.label :minimum_minutes_paid_cancelled_level1, class: "block text-sm font-medium text-tokanisecondary-700" %>
                <%= form.number_field :minimum_minutes_paid_cancelled_level1 , class: "mt-2 mb-2 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-tokanisecondary-500 focus:outline-none focus:ring-tokanisecondary-500 sm:text-sm"  %>
              </div>  
              <div class="col-span-6 sm:col-span-6 lg:col-span-3">
                <%= form.label :minimum_minutes_billed_cancelled_level2, class: "block text-sm font-medium text-tokanisecondary-700" %>
                <%= form.number_field :minimum_minutes_billed_cancelled_level2 , class: "mt-2 mb-2 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-tokanisecondary-500 focus:outline-none focus:ring-tokanisecondary-500 sm:text-sm"  %>
              </div>
              <div class="col-span-6 sm:col-span-6 lg:col-span-3">
                <%= form.label :minimum_minutes_paid_cancelled_level2, class: "block text-sm font-medium text-tokanisecondary-700" %>
                <%= form.number_field :minimum_minutes_paid_cancelled_level2, class: "mt-2 mb-2 w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-tokanisecondary-500 focus:outline-none focus:ring-tokanisecondary-500 sm:text-sm"  %>
              </div>
            </div>

            <div class="col-span-6 sm:col-span-6 lg:col-span-3">
              <%= form.label :trigger_for_billing_increment, class:"block text-sm font-medium text-tokanisecondary-700" %>
              <%= form.number_field :trigger_for_billing_increment,  class: "mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-tokanisecondary-500 focus:outline-none focus:ring-tokanisecondary-500 sm:text-sm"  %>
            </div>
             
            <div class="col-span-6 sm:col-span-6 lg:col-span-3">
              <%= form.label :billing_increment, class:"block text-sm font-medium text-tokanisecondary-700" %>
              <%= form.number_field :billing_increment, class: "mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-tokanisecondary-500 focus:outline-none focus:ring-tokanisecondary-500 sm:text-sm"  %>
            </div>
             
            
            <div class="col-span-6 sm:col-span-6 lg:col-span-3">
              <%= form.label :trigger_for_rush_rate, class:"block text-sm font-medium text-tokanisecondary-700" %>
              <%= form.number_field :trigger_for_rush_rate, class: "mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-tokanisecondary-500 focus:outline-none focus:ring-tokanisecondary-500 sm:text-sm"  %>
            </div>
          
            <div class="col-span-6 sm:col-span-6 lg:col-span-3">
              <%= form.label :trigger_for_discount_rate, class:"block text-sm font-medium text-tokanisecondary-700" %>
              <%= form.number_field :trigger_for_discount_rate, class: "mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-tokanisecondary-500 focus:outline-none focus:ring-tokanisecondary-500 sm:text-sm"  %>
            </div>
               
            <div class="col-span-6 sm:col-span-6 lg:col-span-3">
              <%= form.label :trigger_for_cancel_level1, "Trigger for cancel level 1", class:"block text-sm font-medium text-tokanisecondary-700" %>
              <%= form.number_field :trigger_for_cancel_level1, class: "mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-tokanisecondary-500 focus:outline-none focus:ring-tokanisecondary-500 sm:text-sm"  %>
            </div>
             
            <div class="col-span-6 sm:col-span-6 lg:col-span-3">
              <%= form.label :trigger_for_cancel_level2, "Trigger for cancel level 2", class:"block text-sm font-medium text-tokanisecondary-700" %>
              <%= form.number_field :trigger_for_cancel_level2 , class: "mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-tokanisecondary-500 focus:outline-none focus:ring-tokanisecondary-500 sm:text-sm"  %>
            </div>
              
           
            <div class="col-span-6 sm:col-span-6 lg:col-span-3">
              <%= form.label :maximum_travel_time, class:"block text-sm font-medium text-tokanisecondary-700" %>
              <%= form.number_field :maximum_travel_time, class: "mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-tokanisecondary-500 focus:outline-none focus:ring-tokanisecondary-500 sm:text-sm"  %>
            </div>
             
            <div class="col-span-6 sm:col-span-6 lg:col-span-3">
              <%= form.label :trigger_for_travel_time, class:"block text-sm font-medium text-tokanisecondary-700" %>
              <%= form.number_field :trigger_for_travel_time, class: "mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-tokanisecondary-500 focus:outline-none focus:ring-tokanisecondary-500 sm:text-sm"  %>
            </div>
                  
          <div class="col-span-6 sm:col-span-6 lg:col-span-3">
              <%= form.label :trigger_for_mileage, class:"block text-sm font-medium text-tokanisecondary-700" %>
              <%= form.number_field :trigger_for_mileage, class: "mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-tokanisecondary-500 focus:outline-none focus:ring-tokanisecondary-500 sm:text-sm"  %>
          </div>
          <div class="col-span-6 sm:col-span-6 lg:col-span-3">
              <%= form.label :maximum_mileage, class:"block text-sm font-medium text-tokanisecondary-700" %>
              <%= form.number_field :maximum_mileage, class: "mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-tokanisecondary-500 focus:outline-none focus:ring-tokanisecondary-500 sm:text-sm"  %>
          </div>
            
          <div class="col-span-6 sm:col-span-6 lg:col-span-6">
            <%= form.label :fixed_roundtrip_mileage, class:"block text-sm font-medium text-tokanisecondary-700" %>
            <%= form.number_field :fixed_roundtrip_mileage, class: "mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-tokanisecondary-500 focus:outline-none focus:ring-tokanisecondary-500 sm:text-sm"  %>
          </div>
        </br>
      
        </div>

        <div class="col-span-6 sm:col-span-6 lg:col-span-6 mt-4">
          <div class="relative">
            <div class="absolute inset-0 flex items-center" aria-hidden="true">
              <div class="w-full border-t border-tokaniaccent-300"></div>
            </div>
            <div class="relative flex justify-center">
              <span class="bg-white px-2 text-lg text-tokaniprimary-600">After Hours Setup</span>
            </div>
          </div>
        </br>
        </div>

        <div class="grid grid-cols-6 gap-6">
          <div class="col-span-3 sm:col-span-6 lg:col-span-3">
            <label class="text-md my-2 font-medium text-tokanisecondary-700">After Hours (M-F) Start Time 1</label>
            <div class="relative flex items-center">
              <div class="flex-grow items-center mr-2">
                <%= select_hour @pay_bill_config.start_hour(:afterhours_availability_start_seconds1), { ampm: true, field_name: 'afterhours_availability_start_seconds1[hour]', prefix: 'times', prompt: 'None' }, { id: dom_id(@pay_bill_config, 'times_start_hour'),  class: "form-select"}  %>
              </div>
              <div class="flex-grow items-center">
                <%= select_tag 'times[afterhours_availability_start_seconds1][minute]', options_for_select((0..45).step(15).map {|i| [lpad_number(i), lpad_number(i) ]}), {id: dom_id(@pay_bill_config, 'times_start_minute'), :include_blank => 'None', class: "form-select"} %>
              </div>
            </div>
          </div>

          <div class="col-span-3 sm:col-span-6 lg:col-span-3">
            <label class="text-md my-2 font-medium text-tokanisecondary-700">After Hours (M-F) End Time 1</label>
            <div class="relative flex items-center">
              <div class="flex-grow items-center mr-2">
                <%= select_hour @pay_bill_config.end_hour(:afterhours_availability_end_seconds1), { ampm: true, field_name: 'afterhours_availability_end_seconds1[hour]', prefix: 'times', prompt: 'None'}, {id: dom_id(@pay_bill_config, 'times_end_hour'), class: "form-select"} %> 
              </div>
              <div class="flex-grow items-center">
                <%= select_tag 'times[afterhours_availability_end_seconds1][minute]', options_for_select((0..60).step(15).map {|i| [lpad_number(i), lpad_number(i) ]}), { id: dom_id(@pay_bill_config, 'times_end_minute'), :include_blank => 'None', class: "form-select"} %>
              </div>
            </div>
          </div>

          <div class="col-span-3 sm:col-span-6 lg:col-span-3">
            <label class="text-md my-2 font-medium text-tokanisecondary-700">After Hours (M-F) Start Time 2</label>
            <div class="relative flex items-center">
              <div class="flex-grow items-center mr-2">
                <%= select_hour @pay_bill_config.start_hour(:afterhours_availability_start_seconds2), { ampm: true, field_name: 'afterhours_availability_start_seconds2[hour]', prefix: 'times', prompt: 'None' }, { id: dom_id(@pay_bill_config, 'times_start_hour'),  class: "form-select"}  %>
              </div>
              <div class="flex-grow items-center">
                <%= select_tag 'times[afterhours_availability_start_seconds2][minute]', options_for_select((0..45).step(15).map {|i| [lpad_number(i), lpad_number(i) ]}), {id: dom_id(@pay_bill_config, 'times_start_minute'), :include_blank => 'None', class: "form-select"} %>
              </div>
            </div>
          </div>

          <div class="col-span-3 sm:col-span-6 lg:col-span-3">
            <label class="text-md my-2 font-medium text-tokanisecondary-700">After Hours (M-F) End Time 2</label>
            <div class="relative flex items-center">
              <div class="flex-grow items-center mr-2">
                <%= select_hour @pay_bill_config.end_hour(:afterhours_availability_end_seconds2), { ampm: true, field_name: 'afterhours_availability_end_seconds2[hour]', prefix: 'times', prompt: 'None'}, {id: dom_id(@pay_bill_config, 'times_end_hour'), class: "form-select"} %> 
              </div>
              <div class="flex-grow items-center">
                <%= select_tag 'times[afterhours_availability_end_seconds2][minute]', options_for_select((0..60).step(15).map {|i| [lpad_number(i), lpad_number(i) ]}), { id: dom_id(@pay_bill_config, 'times_end_minute'), :include_blank => 'None', class: "form-select"} %>
              </div>
            </div>
          </div>

          <div class="col-span-6 sm:col-span-6 lg:col-span-6 mt-4">
            <div class="relative">
              <div class="absolute inset-0 flex items-center" aria-hidden="true">
                <div class="w-full border-t border-tokaniaccent-300"></div>
              </div>
              <div class="relative flex justify-center">
                <span class="bg-white px-2 text-lg text-tokaniprimary-600">Weekend Hours Setup</span>
              </div>
            </div>
          </br>
          </div>

          <div class="col-span-3 sm:col-span-6 lg:col-span-3">
            <label class="text-md my-2 font-medium text-tokanisecondary-700">Weekend (Sat-Sun) Start Time 1</label>
            <div class="relative flex items-center">
              <div class="flex-grow items-center mr-2">
                <%= select_hour @pay_bill_config.start_hour(:weekend_availability_start_seconds1), { ampm: true, field_name: 'weekend_availability_start_seconds1[hour]', prefix: 'times', prompt: 'None' }, { id: dom_id(@pay_bill_config, 'times_start_hour'),  class: "form-select"} %>
              </div>
              <div class="flex-grow items-center">
                <%= select_tag 'times[weekend_availability_start_seconds1][minute]', options_for_select((0..60).step(15).map {|i| [lpad_number(i), lpad_number(i) ]}), {id: dom_id(@pay_bill_config, 'times_start_minute'), :include_blank => 'None', class: "form-select"} %>

              </div>
            </div>
          </div>

          <div class="col-span-3 sm:col-span-6 lg:col-span-3">
            <label class="text-md my-2 font-medium text-tokanisecondary-700">Weekend(Sat-Sun) End Time 1</label>
            <div class="relative flex items-center">
              <div class="flex-grow items-center mr-2">
                <%= select_hour @pay_bill_config.end_hour(:weekend_availability_end_seconds1), { ampm: true, field_name: 'weekend_availability_end_seconds1[hour]', prefix: 'times', prompt: 'None'}, {id: dom_id(@pay_bill_config, 'times_end_hour'), class: "form-select"} %>
              </div>
              <div class="flex-grow items-center">
                <%= select_tag 'times[weekend_availability_end_seconds1][minute]', options_for_select((0..60).step(15).map {|i| [lpad_number(i), lpad_number(i) ]}), { id: dom_id(@pay_bill_config, 'times_end_minute'), :include_blank => 'None', class: "form-select"} %>
              </div>
            </div>
          </div>

          <div class="col-span-3 sm:col-span-6 lg:col-span-3">
            <label class="text-md my-2 font-medium text-tokanisecondary-700">Weekend (Sat-Sun) Start Time 2</label>
            <div class="relative flex items-center">
              <div class="flex-grow items-center mr-2">
                <%= select_hour @pay_bill_config.start_hour(:weekend_availability_start_seconds2), { ampm: true, field_name: 'weekend_availability_start_seconds2[hour]', prefix: 'times', prompt: 'None' }, { id: dom_id(@pay_bill_config, 'times_start_hour'),  class: "form-select"}  %>
              </div>
              <div class="flex-grow items-center">
                <%= select_tag 'times[weekend_availability_start_seconds2][minute]', options_for_select((0..60).step(15).map {|i| [lpad_number(i), lpad_number(i) ]}), {id: dom_id(@pay_bill_config, 'times_start_minute'), :include_blank => 'None', class: "form-select"} %>
              </div>
            </div>
          </div>

          <div class="col-span-3 sm:col-span-6 lg:col-span-3">
            <label class="text-md my-2 font-medium text-tokanisecondary-700">Weekend (Sat-Sun) End Time 2</label>
            <div class="relative flex items-center">
              <div class="flex-grow items-center mr-2">    
                <%= select_hour @pay_bill_config.end_hour(:weekend_availability_end_seconds2), { ampm: true, field_name: 'weekend_availability_end_seconds2[hour]', prefix: 'times', prompt: 'None' }, {id: dom_id(@pay_bill_config, 'times_end_hour'), class: "form-select"} %>
              </div>
              <div class="flex-grow items-center">
                <%= select_tag 'times[weekend_availability_end_seconds2][minute]', options_for_select((0..60).step(15).map {|i| [lpad_number(i), lpad_number(i) ]}), { id: dom_id(@pay_bill_config, 'times_end_minute'), :include_blank => 'None', class: "form-select"} %>
              </div>
            </div>
          </div>
        </div>
      </div>

  <div class="bg-gray-50 mt-4 px-4 py-3 text-right sm:px-6">
    <%= form.button button_text(form.send(:submit_default_value)), class:"inline-flex justify-center rounded-md border border-transparent bg-tokanisecondary-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-tokanisecondary-700 focus:outline-none focus:ring-2 focus:ring-tokanisecondary-500 focus:ring-offset-2" %>

    <% if form.object.new_record? %>
      <%= link_to t("cancel"), pay_bill_configs_path, class:"inline-flex justify-center rounded-md border border-transparent bg-tokaniprimary-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-tokanisecondary-700 focus:outline-none focus:ring-2 focus:ring-tokanisecondary-500 focus:ring-offset-2" %>
    <% else %>
      <%= link_to t("cancel"), pay_bill_config_path(@pay_bill_config), class: "btn btn-white" %>
    <% end %>
  </div>
<% end %>
  </div>
